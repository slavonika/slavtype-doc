# Slavtype markdown (stmd)

## Общие положения разметки

Разметка slavtype markdown (stmd) используется для горизонтальной разметки и стилизации текстов формата Slavtype markup language (stml).

В то время как stml задает иерархическую (древовидную) структуру текста, основанную на механизме представления единиц текста как компонентов, разметка stmd предоставляет возможность выделять части текста внутри компонента логически или стилистически.

Область действия разметки stmd ограничивается одним абзацем. В свою очередь, абзац может быть телом компоента или его частью, отделенной на уровне компонента и находится в поле `body[]`.

Логическое выделение необходимо для горизонтальной (вне или внутри иерархического дерева) связности частей текстов. Оно позволяет формировать ссылки, закладки, устанавливать тэги.

## Стилистическое смысловое форматирование

1) Выделение части текста «красным» цветом (киноварь). `*Текст*` (Поместить текст внутри астериксов). Равнозначен полужирному выделению `<strong>`.
2) Разрядка части текста (шрифтом). `**Текст**` (Поместить текст внутри двойных астериксов). Равнозначен курсивному выделению `<em>`.
3) Перечеркнутый текст `~~Текст~~`.
4) Подчеркнутый текст `_Текст_`.
5) Разделители для пения. `Я́ко по су́ху пешеше́ствовав Изра́иль * по бе́здне…` (астерикс, обязательно отбитый по обеим сторонам пробелом; финальный разделитель – двойной астерикс). *Разделитель может выглядеть в гражданских текстах как слеш (двойной слеш). Как астерикс в церковнославянских текстах. В обоих видах текстов его можно отобразить как интерпункт (средняя · точка) или скрыть (вместе с одним из пробелов).*

## Логическое форматирование

1) Примечания, охватывающие текст `[!текст](примечание)`. *Текст может заключаться в кавыки или другие знаки, а текст примечание может выглядеть как сноска внизу страницы. Либо текст снабжается выделением (например, пунктирным) и интерактивно при наведении или при тапе примечание показывается в подсказке.*
2) Нумерованная сноска или примечание после текста `[^0](текст сноски)`. Автоматическая нумерация сносок при использовании `0`, либо номер (номер с литерой) указывается вручную.
3) Пометки, замечания, комментарии, для редактора (невидимые во вне), относящиеся к конкретному месту `[!!текст](примечание)`.
4) Ссылки на компоненты или на интерактивные элементы. Например, написано «Трисвятое по Отче наш» — нажимаем/наводим мышь и получаем этот текст `[текст](имя якоря и/или имя компонента)`.
5) Именованный якорь с выносным текстом. Например, выносные знаки марковых глав или «зри». `[текст](@имя якоря)`. В поле текст при необходимости помещается выносной текст.
6) Именованный якорь в тексте. `[текст](#имя якоря)`. *На текст можно a) ссылаться, b) текст можно получить (с целью куда-либо вставить, c) заменить другим текстом.*
7) Интерактивный или мультимедийный компонет. Текст переходит в область подписи или подсказки `![текст](имя компонента)`.
8) Вставляемый в текст комментарий `[[комментарий]]`. Может занимать абзац целиком.
9) Механизм фрагментов текста используется в первую очередь для чтения по зачалам. Начало фрагмента: `<<(имя фрагмента)`, конец фрагмента: `>>(имя фрагмента)`. Разрыв фрагмента: `>(имя фрагмента)`, продолжение фрагмента `<(имя фрагмента)`. *Фрагменты не ограничены компонентом и могут распространяться на несколько соседних компонентов того же уровня компонентной иерархии*.
